<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>CityBeat â€” Main Page</title>
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="/header/header.css">
</head>
<body>
  <!-- auth gate: redirect to login if not logged in -->
  <script>
    if (!localStorage.getItem('isLoggedIn')) {
      // not logged in -> send to login page
      window.location.href = '/logIn/login.html';
    }
  </script>

  <!-- Shared header will be injected here -->
  <div id="site-header"></div>

  <!-- Hero -->
  <section class="hero">
    <div class="hero-inner">
      <h1>Discover Your City's Pulse</h1>
      <p>Explore events, connect with locals, and experience the best our city has to offer.</p>
      <a class="cta" href="#">Explore Events</a>
    </div>
  </section>

  <main class="content">
    <section class="featured">
      <h2>Featured Events</h2>
      <div class="cards">
          <article class="card"><img src="https://images.unsplash.com/photo-1506152983158-2a75649752d1?w=1200&q=60" alt="Beach festival"><h3>Beach Please Festival</h3><p>Experience the energy of live music.</p></article>
          <article class="card"><img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=1200&q=60" alt="Food fest"><h3>Taste of the City Food Fest</h3><p>Indulge in a culinary journey.</p></article>
          <article class="card"><img src="https://images.unsplash.com/photo-1524678606370-a47ad25cb82a?w=1200&q=60" alt="Art showcase"><h3>Art & Culture Showcase</h3><p>Immerse your self in creativity.</p></article>
        </div>
    </section>

    <section class="categories">
      <h2>Categories</h2>
      <div class="cats">
        <div class="cat">Music</div>
        <div class="cat">Art & Culture</div>
        <div class="cat">Food & Drink</div>
        <div class="cat">Sports</div>
        <div class="cat">Community</div>
        <div class="cat">Others</div>
      </div>
    </section>

    <section class="upcoming">
      <h2>Upcoming Events</h2>
      <div class="cards small">
    <article class="card"><img src="https://images.unsplash.com/photo-1504198453319-5ce911bafcde?w=1200&q=60" alt="Photography"><h3>Photography Workshop</h3><p>Learn from professionals.</p></article>
    <article class="card"><img src="https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=1200&q=60" alt="Live music"><h3>Local Band Night</h3><p>Discover new local talent.</p></article>
    <article class="card"><img src="https://images.unsplash.com/photo-1520975914395-ea2fa9f8d0b6?w=1200&q=60" alt="Sports"><h3>Basketball Tournament</h3><p>Watch exciting games.</p></article>
      </div>
    </section>
  </main>
  <!-- footer injected from separate folder -->
  <div id="site-footer"></div>
  <script>
    // fetch shared header then add the 4 nav text buttons next to the logo
    fetch('/header/header.html')
      .then(r => r.text())
      .then(html => {
        document.getElementById('site-header').innerHTML = html;
  // show nav, search and user buttons on non-landing pages; hide auth buttons and Explore/Create
  const top = document.querySelector('.top-nav'); if (top) top.style.display = '';
  const search = document.querySelector('.search-group'); if (search) search.style.display = 'flex';
  const userBtns = document.querySelector('.user-buttons'); if (userBtns) userBtns.style.display = 'flex';
  const auth = document.querySelector('.auth-buttons'); if (auth) auth.style.display = 'none';
  const exploreGroup = document.querySelector('.explore-create'); if (exploreGroup) exploreGroup.style.display = 'none';
        // after injecting header, append 4 text buttons next to the logo
        const left = document.querySelector('.navbar-left');
        if(left){
          // only add nav if header fragment didn't already include it
          if (!left.querySelector('.top-nav')) {
            const nav = document.createElement('nav');
            nav.className = 'top-nav';
            ['Home','Events','About Us','Contact Us'].forEach(label => {
            const btn = document.createElement('button');
            btn.className = 'nav-text';
            btn.type = 'button';
            btn.textContent = label;
            // wire navigation for each label
            if(label === 'Home') btn.addEventListener('click', () => location.href = '/');
            else if(label === 'Events') btn.addEventListener('click', () => location.href = '/landingPage/landingPage.html');
            else if(label === 'About Us') btn.addEventListener('click', () => location.href = '/AboutUs/index.html');
            else if(label === 'Contact Us') btn.addEventListener('click', () => location.href = '/contact-us/index.html');
            nav.appendChild(btn);
          });
            left.appendChild(nav);
          }
        }
      })
      .catch(e => console.warn('Header load failed', e));

    fetch('/footer/footer.html')
      .then(r => r.text())
      .then(html => document.getElementById('site-footer').innerHTML = html)
      .catch(e => console.warn('Footer load failed', e));
  </script>
</body>
</html>